{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/":{"get":{"summary":"Read Index","operationId":"read_index__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/mapping":{"get":{"summary":"Get Mapping","description":"alias for backwards compatability","operationId":"get_mapping_api_v1_mapping_get","deprecated":true,"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Mapping Api V1 Mapping Get"}}}}}},"post":{"summary":"Set Mapping","operationId":"set_mapping_api_v1_mapping_post","deprecated":true,"parameters":[{"name":"all_wrap","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"All Wrap"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"array","items":{"anyOf":[{"type":"array","items":{"$ref":"#/components/schemas/VirtualWorker"}},{"type":"null"}]}},"title":"Mapping"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"string"}],"title":"Response Set Mapping Api V1 Mapping Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sequence":{"get":{"summary":"Get Sequence","operationId":"get_sequence_api_v1_sequence_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Sequence Api V1 Sequence Get"}}}}}},"post":{"summary":"Set Sequence","operationId":"set_sequence_api_v1_sequence_post","parameters":[{"name":"all_wrap","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"All Wrap"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_set_sequence_api_v1_sequence_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"string"}],"title":"Response Set Sequence Api V1 Sequence Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/stop":{"post":{"summary":"Stop","operationId":"stop_api_v1_stop_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/log_stream":{"get":{"summary":"Get Log Stream","operationId":"get_log_stream_api_v1_log_stream_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/parameter/{name}":{"post":{"summary":"Post Param","operationId":"post_param_api_v1_parameter__name__post","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"string","title":"Response Post Param Api V1 Parameter  Name  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"summary":"Get Param","operationId":"get_param_api_v1_parameter__name__get","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/parameters":{"get":{"summary":"Param Descr","operationId":"param_descr_api_v1_parameters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"anyOf":[{"$ref":"#/components/schemas/StrParameter"},{"$ref":"#/components/schemas/BinaryParameter"},{"$ref":"#/components/schemas/IntParameter"},{"$ref":"#/components/schemas/FloatParameter"},{"$ref":"#/components/schemas/BoolParameter"}]},"type":"array","title":"Response Param Descr Api V1 Parameters Get"}}}}}}},"/api/v1/config":{"get":{"summary":"Get Configs","operationId":"get_configs_api_v1_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnsembleState"}}}}}}},"/api/v1/status":{"get":{"summary":"Get Status","operationId":"get_status_api_v1_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Status Api V1 Status Get"}}}}}}},"/api/v1/load":{"get":{"summary":"Get Load","operationId":"get_load_api_v1_load_get","parameters":[{"name":"intervals","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"title":"Intervals"}},{"name":"scan","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Scan"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/WorkerLoad"},"title":"Response Get Load Api V1 Load Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/progress":{"get":{"summary":"Get Progress","operationId":"get_progress_api_v1_progress_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Progress Api V1 Progress Get"}}}}}}},"/api/v1/logs":{"get":{"summary":"Get Logs","operationId":"get_logs_api_v1_logs_get","deprecated":true,"parameters":[{"name":"level","in":"query","required":false,"schema":{"type":"string","default":"INFO","title":"Level"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Logs Api V1 Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/sardana_hook":{"post":{"summary":"Set Sardana Hook","operationId":"set_sardana_hook_api_v1_sardana_hook_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Info"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"string"}],"title":"Response Set Sardana Hook Api V1 Sardana Hook Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"deprecated":true}}},"components":{"schemas":{"BinaryParameter":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dtype":{"type":"string","const":"binary","title":"Dtype","default":"binary"},"default":{"type":"string","format":"binary","title":"Default","default":""}},"type":"object","required":["name"],"title":"BinaryParameter"},"Body_set_sequence_api_v1_sequence_post":{"properties":{"parts":{"additionalProperties":{"additionalProperties":{"items":{"anyOf":[{"items":{"$ref":"#/components/schemas/VirtualWorker"},"type":"array"},{"type":"null"}]},"type":"array"},"type":"object"},"type":"object","title":"Parts","examples":[{"parts":{"main":{"alba":[[{"constraint":2,"tags":["generic"]},{"constraint":3,"tags":["generic"]}],[{"constraint":4,"tags":["generic"]},{"constraint":5,"tags":["generic"]}],[{"constraint":6,"tags":["generic"]},{"constraint":7,"tags":["generic"]}],[{"constraint":8,"tags":["generic"]},{"constraint":9,"tags":["generic"]}]],"eiger":[[{"constraint":2,"tags":["generic"]}],[{"constraint":4,"tags":["generic"]}],[{"constraint":6,"tags":["generic"]}],[{"constraint":8,"tags":["generic"]}]],"orca":[[{"constraint":3,"tags":["generic"]}],[{"constraint":5,"tags":["generic"]}],[{"constraint":7,"tags":["generic"]}],[{"constraint":9,"tags":["generic"]}]],"slow":[null,null,null,[{"constraint":8,"tags":["generic"]},{"constraint":9,"tags":["generic"]}]]}},"sequence":["main"]},{"main":{"eiger":[[{"constraint":1,"tags":["generic"]}],[{"constraint":2,"tags":["generic"]}],[{"constraint":3,"tags":["generic"]}]],"orca":[[{"constraint":1,"tags":["generic"]}],[{"constraint":2,"tags":["generic"]}],[{"constraint":3,"tags":["generic"]}]]}}]},"sequence":{"items":{"type":"string"},"type":"array","title":"Sequence","examples":[["main","main"]]}},"type":"object","required":["parts","sequence"],"title":"Body_set_sequence_api_v1_sequence_post"},"BoolParameter":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dtype":{"type":"string","const":"bool","title":"Dtype","default":"bool"},"default":{"type":"boolean","title":"Default","default":false}},"type":"object","required":["name"],"title":"BoolParameter"},"BuildGitMeta":{"properties":{"commit_hash":{"type":"string","title":"Commit Hash"},"branch_name":{"type":"string","title":"Branch Name"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"repository_url":{"type":"string","minLength":1,"format":"uri","title":"Repository Url"}},"type":"object","required":["commit_hash","branch_name","timestamp","repository_url"],"title":"BuildGitMeta"},"ConnectedWorker":{"properties":{"name":{"type":"string","title":"Name"},"service_uuid":{"type":"string","format":"uuid4","title":"Service Uuid"},"last_seen":{"type":"number","title":"Last Seen"}},"type":"object","required":["name","service_uuid"],"title":"ConnectedWorker"},"EnsembleState":{"properties":{"ingesters":{"items":{"$ref":"#/components/schemas/IngesterState"},"type":"array","title":"Ingesters"},"workers":{"items":{"$ref":"#/components/schemas/WorkerState"},"type":"array","title":"Workers"},"reducer":{"anyOf":[{"$ref":"#/components/schemas/ReducerState"},{"type":"null"}]},"controller_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Controller Version"},"parameters_version":{"additionalProperties":{"type":"string","format":"uuid4"},"type":"object","title":"Parameters Version","default":{}},"parameters_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parameters Hash"}},"type":"object","required":["ingesters","workers","reducer"],"title":"EnsembleState"},"FloatParameter":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dtype":{"type":"string","const":"float","title":"Dtype","default":"float"},"default":{"type":"number","title":"Default","default":0.0}},"type":"object","required":["name"],"title":"FloatParameter"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IngesterState":{"properties":{"service_uuid":{"type":"string","format":"uuid4","title":"Service Uuid"},"mapping_uuid":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Mapping Uuid"},"dranspose_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dranspose Version"},"mapreduce_version":{"anyOf":[{"$ref":"#/components/schemas/BuildGitMeta"},{"type":"null"}]},"parameters_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parameters Hash"},"processed_events":{"type":"integer","title":"Processed Events","default":0},"event_rate":{"type":"number","title":"Event Rate","default":0.0},"name":{"type":"string","title":"Name"},"url":{"type":"string","minLength":1,"format":"uri","title":"Url"},"connected_workers":{"additionalProperties":{"$ref":"#/components/schemas/ConnectedWorker"},"propertyNames":{"format":"uuid4"},"type":"object","title":"Connected Workers","default":{}},"streams":{"items":{"type":"string"},"type":"array","title":"Streams","default":[]}},"type":"object","required":["name","url"],"title":"IngesterState"},"IntParameter":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dtype":{"type":"string","const":"int","title":"Dtype","default":"int"},"default":{"type":"integer","title":"Default","default":0}},"type":"object","required":["name"],"title":"IntParameter"},"IntervalLoad":{"properties":{"total":{"type":"number","title":"Total"},"active":{"type":"number","title":"Active"},"events":{"type":"integer","title":"Events"}},"type":"object","required":["total","active","events"],"title":"IntervalLoad"},"ReducerState":{"properties":{"service_uuid":{"type":"string","format":"uuid4","title":"Service Uuid"},"mapping_uuid":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Mapping Uuid"},"dranspose_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dranspose Version"},"mapreduce_version":{"anyOf":[{"$ref":"#/components/schemas/BuildGitMeta"},{"type":"null"}]},"parameters_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parameters Hash"},"processed_events":{"type":"integer","title":"Processed Events","default":0},"event_rate":{"type":"number","title":"Event Rate","default":0.0},"name":{"type":"string","title":"Name","default":"reducer"},"url":{"type":"string","minLength":1,"format":"uri","title":"Url"}},"type":"object","required":["url"],"title":"ReducerState"},"StrParameter":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"dtype":{"type":"string","const":"str","title":"Dtype","default":"str"},"default":{"type":"string","title":"Default","default":""}},"type":"object","required":["name"],"title":"StrParameter"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VirtualWorker":{"properties":{"tags":{"items":{"type":"string"},"type":"array","uniqueItems":true,"title":"Tags","default":["generic"]},"constraint":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Constraint"}},"type":"object","title":"VirtualWorker","description":"virtual worker with a number and tags\n\nAttributes:\n    tags: set of tags which a worker must have to get this event\n    constraint: a VirtualConstraint to which worker this event should be delivered, if None, deliver to all workers with matching tags"},"WorkerLoad":{"properties":{"last_event":{"type":"integer","title":"Last Event"},"intervals":{"additionalProperties":{"$ref":"#/components/schemas/IntervalLoad"},"type":"object","title":"Intervals"}},"type":"object","required":["last_event","intervals"],"title":"WorkerLoad"},"WorkerState":{"properties":{"service_uuid":{"type":"string","format":"uuid4","title":"Service Uuid"},"mapping_uuid":{"anyOf":[{"type":"string","format":"uuid4"},{"type":"null"}],"title":"Mapping Uuid"},"dranspose_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dranspose Version"},"mapreduce_version":{"anyOf":[{"$ref":"#/components/schemas/BuildGitMeta"},{"type":"null"}]},"parameters_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Parameters Hash"},"processed_events":{"type":"integer","title":"Processed Events","default":0},"event_rate":{"type":"number","title":"Event Rate","default":0.0},"name":{"type":"string","title":"Name"},"ingesters":{"items":{"$ref":"#/components/schemas/IngesterState"},"type":"array","title":"Ingesters","default":[]},"tags":{"items":{"type":"string"},"type":"array","uniqueItems":true,"title":"Tags","default":["generic"]}},"type":"object","required":["name"],"title":"WorkerState"}}}}